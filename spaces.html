<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parking Spaces</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        // Fetch and Display Spaces for the Selected Lot
        document.addEventListener("DOMContentLoaded", () => {
            const urlParams = new URLSearchParams(window.location.search);
            const lotName = urlParams.get('lot');

            if (!lotName) {
                document.getElementById('spaces-container').innerHTML = "<p>Error: No lot specified.</p>";
                return;
            }

            fetch('parking.json')
                .then(response => response.json())
                .then(data => {
                    const lot = data.parkingLots.find(l => l.name === lotName);
                    if (!lot) {
                        document.getElementById('spaces-container').innerHTML = "<p>Error: Lot not found.</p>";
                        return;
                    }

                    document.getElementById('lot-name').textContent = lot.name;
                    lot.parkingSpaces.forEach(space => {
                        const spaceCard = document.createElement('div');
                        spaceCard.classList.add('space-card');
                        spaceCard.innerHTML = `
                            <h3>Space ID: ${space.spaceID}</h3>
                            <p><strong>Category:</strong> ${space.category}</p>
                            <p><strong>Status:</strong> ${space.status}</p>
                            <p><strong>Distance to Exit:</strong> ${space.distanceToExit}</p>
                        `;
                        document.getElementById('spaces-container').appendChild(spaceCard);
                    });
                });
        });
    </script>
</head>
<body>
    <!-- Navbar -->
    <div id="navbar">
        <div class="nav-left">
            <a href="parking.html">
                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/5b/Marist_Red_Foxes_logo.svg/1200px-Marist_Red_Foxes_logo.svg.png" alt="Marist Logo">
            </a>
            <button onclick="location.href='lots.html';">View Lots</button>
            <button onclick="location.href='spaces.html';">View Spaces</button>
            <button onclick="location.href='#';">Support</button>
        </div>
        <button class="login-btn" onclick="location.href='#';">Login</button>
    </div>

    <!-- Main Content -->
    <div class="content">
        <h1 id="lot-name">Parking Spaces</h1>
        <div id="spaces-container" class="spaces-container">
            <!-- Dynamic Content Will Load Here -->
        </div>
    </div>

    <!-- Footer -->
    <div id="footer">
        <p>Z. Giardina &copy; 2024</p>
    </div>
</body>
</html>
